<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HotelHub - Find Your Perfect Stay</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e0f7fa, #e1f5fe);
      color: #333;
      min-height: 100vh;
      scroll-behavior: smooth; /* Enable smooth scrolling */
    }

    .navbar {
      background-color:rgb(255, 213, 0);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .navbar .logo {
      font-size: 24px;
      font-weight: bold;
      color: #2c3e50;
    }

    .navbar ul {
      list-style: none;
      display: flex;
      gap: 20px;
    }

    .navbar ul li a {
      text-decoration: none;
      color: #2c3e50;
      font-weight: 500;
      transition: color 0.3s;
    }

    .navbar ul li a:hover {
      color: #3498db;
    }

    .navbar ul li button {
      background: none;
      border: none;
      padding: 0;
      font-size: inherit;
      color: #2c3e50;
      font-weight: 500;
      cursor: pointer;
      transition: color 0.3s;
    }

    .navbar ul li button:hover {
      color: #3498db;
    }

    .auth-buttons {
      display: flex;
      gap: 15px;
      position: relative;
    }

    .dropbtn {
      background-color:rgb(15, 18, 20);
      color: white;
      padding: 10px 18px;
      font-size: 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .dropbtn:hover {
      background-color: #2980b9;
    }

    .dropdown {
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: white;
      top: 45px;
      right: 0;
      min-width: 180px;
      border-radius: 6px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
      z-index: 999;
    }

    .dropdown-content a {
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      color: #333;
      transition: background-color 0.3s;
    }

    .dropdown-content a:hover {
      background-color: #f4f4f4;
    }

    .show {
      display: block;
    }

    .hero {
      text-align: center;
      padding: 60px 20px 20px;
    }

    .hero h1 {
      font-size: 48px;
      margin-bottom: 20px;
      color: #2c3e50;
    }

    .hero p {
      font-size: 18px;
      color: #555;
      max-width: 700px;
      margin: 0 auto;
    }

    .search-bar {
      display: flex;
      justify-content: center;
      margin: 40px auto 20px;
      max-width: 800px;
      gap: 10px;
    }

    .search-bar input[type="text"] {
      width: 70%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
    }

    .search-bar select {
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
    }

    .search-bar button {
      padding: 12px 20px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .search-bar button:hover {
      background-color: #2980b9;
    }

    .hotel-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 30px 20px 60px;
    }

    .hotel-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      width: 300px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .hotel-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .hotel-card-content {
      padding: 20px;
      flex-grow: 1;
    }

    .hotel-card h3 {
      margin-bottom: 10px;
      color: #2c3e50;
    }

    .hotel-card p {
      font-size: 14px;
      color: #555;
      margin-bottom: 12px;
    }

    .hotel-card .price {
      font-weight: bold;
      margin-bottom: 12px;
      color: #27ae60;
    }

    .hotel-card button {
      padding: 10px;
      background-color: #3498db;
      border: none;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }

    .hotel-card button:hover {
      background-color: #2980b9;
    }

    .info-section {
      padding: 20px;
      text-align: center;
    }

    .info-section h2 {
      color: #3498db;
      margin-bottom: 15px;
    }

    .info-section p {
      color: #555;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto 20px;
    }


    /* Modal Styles */
    .modal {
      display: none; /* Hidden by default */
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(71, 167, 223, 0.4); /* Semi-transparent background */
      padding-top: 60px;
    }

    .modal-content {
  position: relative;
  background-color: #f9fafc; /* Soft light background */
  margin: 3% auto;
  padding: 40px 50px;
  border: ;
  width: 90%;
  max-width: 900px;
  border-radius: 16px;
  height: auto;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
  font-family: 'Segoe UI', sans-serif;
  color:rgb(8, 8, 8);
  animation: fadeSlideUp 0.4s ease;
}
.close-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 10px 20px;
  background-color:blue;
  background: none;
  border: none;
  border-radius: 10px;
  font-size: 20px;
  color: #555;
  cursor: pointer;
}


.close-btn:hover {
  background-color:#3498db;
  transform: scale(1.05);
}



    
    


    .filter-form {
        max-width: 900px;
        margin: 0 auto;
        padding: 30px;
        background-color: #f9f9f9;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: space-between;
      }
      
      .filter-form .form-group {
        flex: 1 1 45%;
      }
      
      .filter-form .filter-label {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 10px;
        display: block;
      }
      
      .filter-form .filter-select {
        width: 100%;
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 16px;
        transition: border-color 0.3s ease;
      }
      
      .filter-form .filter-select:focus {
        border-color: #3498db;
        outline: none;
      }
      
      .filter-form .filter-button {
        width: 100%;
        padding: 12px;
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: background-color 0.3s;
        margin-top: 20px;
      }
      
      .filter-form .filter-button:hover {
        background-color: #2980b9;
      }
      

  </style>
</head>
<body>

  <nav class="navbar">
    <div class="logo">HotelHub üè®</div>
    <ul>
      <li><a href="{% url 'home' %}">Home</a></li>
      <li><a href="{% url 'recommendations' %}">Recommendations</a></li>
      <li><button onclick="scrollToContent('about')">About Us</button></li>
      <li><button onclick="scrollToContent('contact')">Contact</button></li>
    </ul>
    <div class="auth-buttons">
      {% if user.is_authenticated and user.profile.role == 'customer'%}
        <div class="dropdown">
          <button class="dropbtn" onclick="toggleDropdown('userDropdown')">{{ user.username }}</button>
          <div class="dropdown-content" id="userDropdown">
            <a href="{% url 'my_bookings' %}">My Bookings</a>
            <a href="{% url 'logout' %}">Logout</a>
          </div>
        </div>
      {% else %}
        <div class="dropdown">
          <button class="dropbtn" onclick="toggleDropdown('loginDropdown')">Login</button>
          <div class="dropdown-content" id="loginDropdown">
            <a href="{% url 'login_customer' %}">Customer Login</a>
            <a href="{% url 'login_owner' %}">Hotel Owner Login</a>
          </div>
        </div>
        <div class="dropdown">
          <button class="dropbtn" onclick="toggleDropdown('signupDropdown')">Signup</button>
          <div class="dropdown-content" id="signupDropdown">
            <a href="{% url 'signup_customer' %}">Customer Signup</a>
            <a href="{% url 'signup_owner' %}">Hotel Owner Signup</a>
          </div>
        </div>
      {% endif %}
    </div>
  </nav>

  <section class="hero">
    <h1>Welcome to HotelHub</h1>
    <p>Discover your ideal stay with our smart hotel recommendation system. Whether you're planning a vacation, business trip, or weekend getaway ‚Äî we‚Äôve got you covered.</p>
  </section>
  {% if messages %}
  <ul>
    {% for message in messages %}
      <li style="color: red;">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}
<!-- Filter Form -->
<form method="get" class="filter-form">
    <!-- Min Price Dropdown -->
    <div class="form-group">
      <label for="min_price" class="filter-label">Min Price (‚Çπ)</label>
      <select name="min_price" id="min_price" class="filter-select">
        <option value="">Min Price</option>
        <option value="500">500</option>
        <option value="1000">1000</option>
        <option value="1500">1500</option>
        <option value="2000">2000</option>
        <option value="2500">2500</option>
        <option value="3000">3000</option>
        <option value="4000">4000</option>
        <option value="5000">5000</option>
        <option value="6000">6000</option>
        <option value="7000">7000</option>
        <option value="8000">8000</option>
        <option value="9000">9000</option>
        <option value="10000">10000</option>
      </select>
    </div>
  
    <!-- Max Price Dropdown -->
    <div class="form-group">
      <label for="max_price" class="filter-label">Max Price (‚Çπ)</label>
      <select name="max_price" id="max_price" class="filter-select">
        <option value="">Max Price</option>
        <option value="1000">1000</option>
        <option value="1500">1500</option>
        <option value="2000">2000</option>
        <option value="2500">2500</option>
        <option value="3000">3000</option>
        <option value="4000">4000</option>
        <option value="5000">5000</option>
        <option value="6000">6000</option>
        <option value="7000">7000</option>
        <option value="8000">8000</option>
        <option value="9000">9000</option>
        <option value="10000">10000</option>
      </select>
    </div>
    
    <div class="form-group">
        <label for="location" class="filter-label">Location</label>
        <select name="location" id="location" class="filter-select">
          <option value="All">All Locations</option>
          <option value="Mumbai">Mumbai</option>
          <option value="Delhi">Delhi</option>
          <option value="Bengaluru">Bengaluru</option>
          <option value="Chennai">Chennai</option>
          <option value="Kolkata">Kolkata</option>
          <option value="Rajasthan">Rajasthan</option>
          <option value="Kolhapur">Kolhapur</option>
          <option value="Chandigad">Chandigad</option>
          <option value="Nagpur">Nagpur</option>
          <option value="Nashik">Nashik</option>
          <option value="Solapur">Solapur</option>
          <option value="Ch.Sambhajinagar">Ch.Sambhajinagar</option>
          <option value="Gurgaon">Gurgaon</option>
          <option value="Amritsar">Amritsar</option>
          <option value="Guwahati">Guwahati</option>
          <option value="Ahmedabad">Ahmedabad</option>
          <option value="Surat">Surat</option>
          <option value="Lucknow">Lucknow</option>
          <option value="Pune">Pune</option>
          <option value="Hyderabad">Hyderabad</option>
        </select>
      </div>
    <button type="submit" class="filter-button">Filter</button>
  </form>
  

  <h2>Recommended Hotels</h2>
  <div class="hotel-list">
    {% for hotel in recommended_hotels %}
      <div class="hotel-card">
        <p>Hotel ID : {{ hotel.hotel_id }}</p>
        {% if hotel.image %}
          <img src="{{ hotel.image.url }}" alt="{{ hotel.name }}">
        {% else %}
          <img src="https://source.unsplash.com/300x180/?hotel" alt="Hotel Image">
        {% endif %}
        <div class="hotel-card-content">
          <h3>{{ hotel.name }}</h3>


          <div class="rating">Average Rating: 
            
            {% if hotel.avg_rating %}
            {{ hotel.avg_rating|floatformat:1 }} ‚≠ê
            {% else %}
            <p>No Rating Yet</p>
            {% endif %}
            </div>


          <div class="Amenities">{{ hotel.amenities|truncatewords:15 }}</div>
          <div class="Available">Availabe Rooms : {{ hotel.no_of_rooms }}</div>
          <div class="Location">Location : {{ hotel.location }}</div>
          <div class="price">‚Çπ{{ hotel.price_per_night }}/night</div>
          <a href="{% url 'book_hotel' hotel.hotel_id%}">
            <button>Book Now</button>
          </a>
        
         <!-- Button for opening the modal -->
          <button onclick="openModal({{ hotel.hotel_id }})">Reviews</button>
        </div>
       </div>
<!-- Modal for Reviews -->
<div id="modal-{{ hotel.hotel_id }}" class="modal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal({{ hotel.hotel_id }})">Close</button>

    
    <h2>Reviews for {{ hotel.name }}</h2>
    <div class="reviews">

      {% if user.is_authenticated and user.profile.role == 'customer'%}
      <form method="POST" action="{% url 'rate_hotel' hotel.hotel_id %}">
        {% csrf_token %}
        
        <label for="review">Review:</label>
        <textarea name="review" id="review" rows="5" cols="50" placeholder="Write your review..."></textarea>
  
      </br>
        <label for="stars">Rating:</label>
        <select name="stars" required>
          <option value="">Select Rating</option>
          <option value="1">1 Star</option>
          <option value="2">2 Stars</option>
          <option value="3">3 Stars</option>
          <option value="4">4 Stars</option>
          <option value="5">5 Stars</option>
        </select>
      </br>
        <button type="submit">Submit Review</button>
      </form>
    {% else %}
      <p>Please log in to leave a review.</p>
    {% endif %}
      {% for rating in hotel.ratings.all %}
        </br>
        <p> <strong>Customer Name:{{ rating.customer.username }}</strong> </p>
    
        {{ rating.review }}
    </br>
      {% empty %}
        <p>No reviews yet.</p>
      {% endfor %}
    </div>
   
  </div>
</div>

    {% empty %}
      <p style="text-align:center;">No hotels found.</p>
    {% endfor %}
  </div>

  <div id="about-content" class="info-section">
    <h2>About HotelHub</h2>
    <p>HotelHub is dedicated to simplifying your hotel booking experience. Our platform connects you with a vast network of hotels worldwide, providing you with detailed information, photos, and user reviews to help you make informed decisions.</p>
    <p>We strive to offer a seamless and user-friendly interface, ensuring that you can find and book your ideal hotel quickly and efficiently.</p>
  </div>

  <div id="contact-content" class="info-section">
    <h2>Contact Us</h2>
    <p>We'd love to hear from you! If you have any questions, feedback, or inquiries, please don't hesitate to reach out to our customer support team.</p>
    <p>You can contact us via email at <a href="mailto:support@hotelhub.com">support@hotelhub.com</a> or call us at +91-XXXXXXXXXX.</p>
  </div>

  <script>

    function openModal(hotelId) {
      document.getElementById('modal-' + hotelId).style.display = 'block';
    }
    
    function closeModal(hotelId) {
      document.getElementById('modal-' + hotelId).style.display = 'none';
    }
    
    // Close the modal if clicked outside of it
    window.onclick = function(event) {
      if (event.target && event.target.classList.contains('modal')) {
        closeModal(event.target.id.split('-')[1]); // Use hotel id extracted from modal id
      }
    };

    

    function toggleDropdown(id) {
      const dropdowns = document.querySelectorAll('.dropdown-content');
      dropdowns.forEach(drop => {
        if (drop.id !== id) drop.classList.remove('show');
      });
      document.getElementById(id).classList.toggle('show');
    }

    window.onclick = function (event) {
      if (!event.target.matches('.dropbtn')) {
        const dropdowns = document.querySelectorAll('.dropdown-content');
        dropdowns.forEach(drop => drop.classList.remove('show'));
      }
    };

    function scrollToContent(sectionId) {
      document.getElementById(sectionId + '-content').scrollIntoView({ behavior: 'smooth' });
    }
  </script>

</body>
</html>